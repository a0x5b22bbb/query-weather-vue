import{z as q,r as p,o as P,N as j,O as z,C as _,w as a,F as K,d as m,b as i,a as l,c as R,p as A,B,t as b,K as k,i as W,s as H,f as G,h as J,T as Q}from"./index-BlT1HkFY.js";import{s as X}from"./index-Cu5jXQIr.js";import{s as Y}from"./index-BJqQwLod.js";import{s as Z}from"./index-D9ylhxm9.js";import{s as ee}from"./index-Cnpt1SBf.js";import"./index-DnhmL6mH.js";import"./index-CqKtGezN.js";import"./index-Br-3cgV9.js";import"./index-Bg-WbENU.js";import"./index-M85sYDf4.js";import"./index-BX4YjXLu.js";import"./index-BP8pj-hj.js";import"./index-BOOD8GKY.js";import"./index-Dnyg5ffP.js";import"./index-CbSgyMFv.js";const te={class:"flex -ml-2"},oe=l("div",null,null,-1),se={key:0,class:"w-16"},ie=["onClick"],ne={key:1,class:"w-16"},le=["onClick"],ae=["onClick"],re=["onClick"],ce={style:{minWidth:"10rem"}},pe={class:"flex justify-end w-full px-0"},me={ref:"actionRef",class:"action-buttons",style:{display:"none"}},Te={__name:"MailTypes",props:{mails:{type:Array}},emits:["spam","archive","trash","change:mail:type","reply"],setup(S,{emit:E}){const u=E,N=q(),w=p(null),g=p(null),r=p([]),I=p([{label:"Archive",icon:"pi pi-file",command:()=>v("archive")},{label:"Spam",icon:"pi pi-ban",command:()=>v("spam")},{label:"Delete",icon:"pi pi-trash",command:()=>v("trash")}]),d=p({global:{value:null,matchMode:K.CONTAINS}});P(()=>{f("addEventListener")}),j(async()=>{await f("removeEventListener"),await f("addEventListener")}),z(()=>{f("addEventListener")});function f(o){[...g.value.$el.querySelectorAll("tbody > tr")].forEach(s=>{s[o]("mouseenter",n=>x(n,s)),s[o]("mouseleave",n=>x(n,s))})}function x(o,t){const s=t.querySelector(".action-buttons"),n=t.querySelector(".date-text");!s||!n||(o.type==="mouseenter"?(s.style.display="flex",n.style.display="none"):(s.style.display="none",n.style.display="flex"))}function v(o){if(r.value.length!==0){for(const t of r.value)M(t);u(o,r.value),r.value=[]}}function C(o,t){M(t),u(o,t),r.value=[]}function $(o,t){u("change:mail:type",o,t,!t[o])}function V(o){u("reply",o)}function y(o){N.push({name:"mail-detail",params:{id:o}})}function M(o){Object.keys(o).forEach(t=>{o[t]===!0&&(o[t]=!1)})}return(o,t)=>{const s=ee,n=W,D=Z,T=Y,F=H,L=G,O=J,U=X,h=Q;return m(),_(U,{ref_key:"mailTable",ref:g,value:S.mails,selection:r.value,"onUpdate:selection":t[2]||(t[2]=e=>r.value=e),filters:d.value,"onUpdate:filters":t[3]||(t[3]=e=>d.value=e),rows:10,paginator:"",rowsPerPageOptions:[10,20,30],dataKey:"id",rowHover:"",globalFilterFields:["from","to","title","message"]},{default:a(()=>[i(s,{selectionMode:"multiple",style:{width:"4rem"}}),i(s,{style:{width:"8rem"}},{header:a(()=>[l("div",te,[i(n,{type:"button",icon:"pi pi-refresh",text:"",plain:"",rounded:""}),i(n,{type:"button",icon:"pi pi-ellipsis-v",class:"ml-4",text:"",plain:"",rounded:"",onClick:t[0]||(t[0]=e=>w.value.toggle(e))}),i(D,{ref_key:"menuRef",ref:w,popup:"",model:I.value,class:"w-32"},null,8,["model"])]),oe]),body:a(({data:e})=>[!e.trash&&!e.spam?(m(),R("td",se,[l("span",{class:"cursor-pointer",onClick:c=>$("starred",e)},[l("i",{class:A(["pi pi-fw text-xl",{"pi-star-fill":e.starred,"pi-star":!e.starred}])},null,2)],8,ie)])):B("",!0),!e.trash&&!e.spam?(m(),R("td",ne,[l("span",{class:"cursor-pointer ml-4",onClick:c=>$("important",e)},[l("i",{class:A(["pi pi-fw text-xl",{"pi-bookmark-fill":e.important,"pi-bookmark":!e.important}])},null,2)],8,le)])):B("",!0)]),_:1}),i(s,{style:{"min-width":"4rem"}},{body:a(({data:e})=>[e.image?(m(),_(T,{key:1,onClick:c=>y(e.id),id:e.id,image:`/demo/images/avatar/${e.image?e.image:".png"}`,class:"cursor-pointer"},null,8,["onClick","id","image"])):(m(),_(T,{key:0,icon:"pi pi-user",shape:"circle"}))]),_:1}),i(s,{style:{"min-width":"4rem"}},{body:a(({data:e})=>[l("div",{onClick:c=>y(e.id),style:{minWidth:"12rem"},class:"text-surface-900 dark:text-surface-0 font-semibold cursor-pointer"},b(e.from||e.to),9,ae)]),_:1}),i(s,{style:{"min-width":"30rem"}},{body:a(({data:e})=>[l("span",{onClick:c=>y(e.id),class:"font-medium whitespace-nowrap overflow-hidden text-ellipsis block cursor-pointer",style:{"max-width":"30rem"}},b(e.title),9,re)]),_:1}),i(s,{field:"date"},{header:a(()=>[i(O,{class:"w-full"},{default:a(()=>[i(F,{class:"pi pi-search"}),i(L,{type:"text",placeholder:"Search Mail",class:"w-full sm:w-auto",modelValue:d.value.global.value,"onUpdate:modelValue":t[1]||(t[1]=e=>d.value.global.value=e)},null,8,["modelValue"])]),_:1})]),body:a(({data:e})=>[l("div",ce,[l("div",pe,[l("span",{ref:"dateRef",class:"date-text text-surface-700 dark:text-surface-100 font-semibold whitespace-nowrap"},b(e.date),513),l("div",me,[k(i(n,{onClick:c=>C("archive",e),type:"button",icon:"pi pi-inbox",class:"h-8 w-8 mr-2"},null,8,["onClick"]),[[h,"Archive",void 0,{top:!0}]]),k(i(n,{onClick:c=>V(e),type:"button",icon:"pi pi-reply",class:"h-8 w-8 mr-2",severity:"secondary"},null,8,["onClick"]),[[h,"Reply",void 0,{top:!0}]]),k(i(n,{onClick:c=>C("trash",e),type:"button",icon:"pi pi-trash",class:"h-8 w-8",severity:"danger"},null,8,["onClick"]),[[h,"Trash",void 0,{top:!0}]])],512)])])]),_:1})]),_:1},8,["value","selection","filters"])}}};export{Te as default};
