import{s as q}from"./index-CnY9MNOL.js";import{r as u,o as z,d as r,c as m,b as i,w as T,a as t,t as g,f as A,H as N,i as I,e as S,y as M,p as F,q as j,B as V,C as B,u as O,I as H}from"./index-BlT1HkFY.js";import{s as G}from"./index-BcFd46DZ.js";import{s as P}from"./index-BHJnaP1h.js";import{s as J}from"./index-CHrWD7jW.js";import{s as K}from"./index-D9ylhxm9.js";import{s as Q}from"./index-Dr12qmH3.js";import{s as R}from"./index-BJqQwLod.js";import{s as W}from"./index-BOOD8GKY.js";import"./index-BBOURtLb.js";import"./index-Br-3cgV9.js";import"./index-Dnyg5ffP.js";const X={class:"p-6"},Y={class:"col-span-12"},Z=t("label",{for:"name",class:"text-surface-900 dark:text-surface-0 font-semibold"},"Task Name",-1),ee={class:"col-span-12"},te=t("label",{for:"description",class:"text-surface-900 dark:text-surface-0 font-semibold"},"Description",-1),se={class:"col-span-6"},oe=t("label",{for:"start",class:"text-surface-900 dark:text-surface-0 font-semibold"},"Start Date",-1),le={class:"col-span-6"},ae=t("label",{for:"end",class:"text-surface-900 dark:text-surface-0 font-semibold"},"Due Date",-1),ne={class:"col-span-12"},ie=t("label",{for:"members",class:"text-surface-900 dark:text-surface-0 font-semibold"},"Add Team Member",-1),ce={class:"flex items-center"},re=["src","alt"],de={class:"text-surface-900 dark:text-surface-0 font-medium"},ue={class:"flex items-center"},me=["src","alt"],pe={class:"text-surface-900 dark:text-surface-0 font-medium"},fe={class:"col-span-12 flex justify-end mt-6"},_e={__name:"CreateTaskDialog",props:{selectedTask:{type:Object,default:null}},emits:["close","save"],setup($,{emit:k}){const n=k,p=$,a=u({}),c=u([]);z(()=>{p.selectedTask&&(a.value=p.selectedTask)});async function v(){const d=await fetch("/demo/data/members.json"),{data:s}=await d.json();return s}function C(){n("close",a.value)}function f(){n("save",a.value)}async function y(d){const s=await v();if(!d.query)return[];c.value=s.filter(_=>_.name.toLowerCase().indexOf(d.query.toLowerCase())===0)}return(d,s)=>{const _=A,b=J,h=N,o=P,l=I,w=G;return r(),m("div",X,[i(w,{class:"grid grid-cols-12 gap-4"},{default:T(()=>[t("div",Y,[Z,i(_,{id:"name",type:"text",placeholder:"Title",modelValue:a.value.name,"onUpdate:modelValue":s[0]||(s[0]=e=>a.value.name=e)},null,8,["modelValue"])]),t("div",ee,[te,i(b,{modelValue:a.value.description,"onUpdate:modelValue":s[1]||(s[1]=e=>a.value.description=e),pt:{root:{style:{height:"150px"},class:"mb-12"}}},null,8,["modelValue"])]),t("div",se,[oe,i(h,{dateFormat:"yy-mm-dd","show-time":!1,inputId:"start",placeholder:"Start Date",modelValue:a.value.startDate,"onUpdate:modelValue":s[2]||(s[2]=e=>a.value.startDate=e)},null,8,["modelValue"])]),t("div",le,[ae,i(h,{dateFormat:"yy-mm-dd","show-time":!1,inputId:"end",placeholder:"End Date",modelValue:a.value.endDate,"onUpdate:modelValue":s[3]||(s[3]=e=>a.value.endDate=e)},null,8,["modelValue"])]),t("div",ne,[ie,i(o,{inputId:"members",modelValue:a.value.members,"onUpdate:modelValue":s[4]||(s[4]=e=>a.value.members=e),suggestions:c.value,optionLabel:"name",multiple:"",onComplete:s[5]||(s[5]=e=>y(e)),inputStyle:{height:"2.5rem"}},{chip:T(({value:e})=>[t("div",ce,[t("img",{src:"/demo/images/avatar/"+e.image,alt:e.name,class:"h-8 w-8 mr-2"},null,8,re),t("span",de,g(e.name),1)])]),option:T(({option:e})=>[t("div",ue,[t("img",{src:"/demo/images/avatar/"+e.image,alt:e.name,class:"h-8 w-8 mr-2"},null,8,me),t("span",pe,g(e.name),1)])]),_:1},8,["modelValue","suggestions"])]),t("div",fe,[i(l,{class:"w-32 mr-4",outlined:"",icon:"pi pi-times",label:"Cancel",onClick:s[6]||(s[6]=e=>C())}),i(l,{class:"w-32",icon:"pi pi-check",label:"Save",onClick:s[7]||(s[7]=e=>f())})])]),_:1})])}}},ve={class:"text-surface-900 dark:text-surface-0 font-semibold text-lg mt-8 mb-4 border-b border-surface-200 dark:border-surface-700 py-4"},be={class:"list-none p-0 m-0"},he={class:"flex items-center flex-1"},xe={class:"flex flex-1 gap-4 flex-col sm:flex-row sm:justify-between"},ge={class:"flex items-center"},ke={key:0,class:"flex items-center font-semibold mr-4"},ye=t("i",{class:"pi pi-comment mr-2"},null,-1),$e={key:1,class:"flex items-center font-semibold mr-4"},Ce=t("i",{class:"pi pi-paperclip mr-2"},null,-1),we={key:2,class:"flex items-center font-semibold whitespace-nowrap"},De=t("i",{class:"pi pi-clock mr-2"},null,-1),Ve={class:"flex items-center sm:justify-end"},Te={class:"mr-4"},U={__name:"List",props:{title:{type:String,required:!0},taskList:{type:Array,required:!0}},emits:["checkbox:change","delete:task","open:edit:dialog"],setup($,{emit:k}){const n=k,p=u(null),a=u(null),c=u([{label:"Edit",icon:"pi pi-pencil",command:function(){v()}},{label:"Delete",icon:"pi pi-trash",command:function(){C()}}]);function v(){n("open:edit:dialog",a.value)}function C(){n("delete:task",a.value)}function f(s){return new Date(s).toTimeString().split(":").slice(0,2).join(":")}function y(s){n("checkbox:change",s)}function d(s,_,b){a.value=b,p.value[_].toggle(s)}return(s,_)=>{const b=W,h=R,o=Q,l=I,w=K;return r(),m(S,null,[t("div",ve,g($.title),1),t("ul",be,[(r(!0),m(S,null,M($.taskList,(e,D)=>{var L,E;return r(),m("li",{key:e,class:"flex flex-col gap-4 md:flex-row md:items-center p-2 border-b border-surface-200 dark:border-surface-700"},[t("div",he,[i(b,{binary:"",onChange:x=>y(e),modelValue:e.completed,"onUpdate:modelValue":x=>e.completed=x,inputId:(L=e.id)==null?void 0:L.toString()},null,8,["onChange","modelValue","onUpdate:modelValue","inputId"]),t("label",{class:F(["font-medium whitespace-nowrap text-ellipsis overflow-hidden ml-2",{"line-through":e.completed}]),style:{"max-width":"500px"}},g(e.name),3)]),t("div",xe,[t("div",ge,[e.comments?(r(),m("span",ke,[ye,j(g(e.comments),1)])):V("",!0),e.attachments?(r(),m("span",$e,[Ce,j(g(e.attachments),1)])):V("",!0),e.startDate?(r(),m("span",we,[De,j(g(f(e.startDate)),1)])):V("",!0)]),t("div",Ve,[t("div",Te,[((E=e.members)==null?void 0:E.length)>0?(r(),B(o,{key:0},{default:T(()=>[(r(!0),m(S,null,M(e.members.slice(0,4),x=>(r(),B(h,{key:x,image:"/demo/images/avatar/"+x.image,size:"large",shape:"circle"},null,8,["image"]))),128)),e&&e.members&&e.members.length>4?(r(),B(h,{key:0,label:`+${e.members.length-4}`,shape:"circle",size:"large",class:"bg-blue-500",style:{color:"#212121",border:"2px solid var(--surface-border)"}},null,8,["label"])):V("",!0)]),_:2},1024)):V("",!0)]),i(l,{type:"button",icon:"pi pi-ellipsis-v",class:"z-30 ml-auto sm:ml-0",text:"",rounded:"",onClick:x=>d(x,D,e)},null,8,["onClick"]),i(w,{ref_for:!0,ref_key:"menu",ref:p,popup:"",model:c.value,class:"w-32"},null,8,["model"])])])])}),128))])],64)}}},Se={class:"card"},je={class:"flex justify-between items-center mb-8"},Be=t("span",{class:"text-surface-900 dark:text-surface-0 text-xl font-semibold"},"Task List",-1),Ge={__name:"Index",setup($){const k=O(),n=u([]),p=u([]),a=u([]),c=u({visible:!1,task:null}),v=u(null);H(async()=>{n.value=await C(),f(n.value)});async function C(){const o=await fetch("/demo/data/tasks.json"),{data:l}=await o.json();return l}function f(o){p.value=o.filter(l=>l.completed!==!0),a.value=o.filter(l=>l.completed)}function y(o){n.value.find(l=>l.id===o.id).completed=o.completed,f(n.value)}function d(o){n.value=n.value.filter(l=>l.id!==o.id),f(n.value)}function s(o){c.value.visible=!0,c.value.header="Edit Task",v.value=o}function _(){c.value.visible=!0,c.value.header="Create Task",v.value=null}function b(){c.value.visible=!1}function h(o){o?(n.value=n.value.filter(l=>l.id!==o.id),n.value.push(o),k.add({severity:"success",summary:"Edited",detail:`Task "${o.name}" edited successfully.`,life:3e3})):(n.value.push(o),k.add({severity:"success",summary:"Success",detail:`Task "${o.name}" created successfully.`,life:3e3})),f(n.value),c.value.visible=!1}return(o,l)=>{const w=I,e=q;return r(),m(S,null,[t("div",Se,[t("div",je,[Be,i(w,{class:"font-semibold",outlined:"",icon:"pi pi-plus",label:"Create Task",onClick:l[0]||(l[0]=D=>_())})]),i(U,{"task-list":p.value,title:"ToDo","onCheckbox:change":y,"onDelete:task":d,"onOpen:edit:dialog":s},null,8,["task-list"]),i(U,{"task-list":a.value,title:"Completed","onCheckbox:change":y,"onDelete:task":d,"onOpen:edit:dialog":s},null,8,["task-list"])]),i(e,{header:c.value.header||"",visible:c.value.visible,"onUpdate:visible":l[2]||(l[2]=D=>c.value.visible=D),modal:"",class:"mx-4 sm:mx-0 sm:w-full md:w-8/12 lg:w-6/12",contentClass:"rounded-b border-t border-surface-200 dark:border-surface-700 p-0"},{default:T(()=>[i(_e,{"selected-task":v.value,onClose:l[1]||(l[1]=D=>b()),onSave:h},null,8,["selected-task"])]),_:1},8,["header","visible"])],64)}}};export{Ge as default};
